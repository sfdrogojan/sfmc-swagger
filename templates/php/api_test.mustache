<?php
/**
 * {{classname}}Test
 * PHP version 5
 *
 * @category Class
 * @package  {{invokerPackage}}
 * @author   Swagger Codegen team
 * @link     https://github.com/swagger-api/swagger-codegen
 */

{{>partial_header}}
/**
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen
 * Please update the test case below to test the endpoint.
 */

namespace {{invokerPackage}}\Test\Api;

use GuzzleHttp\Client;
use {{invokerPackage}}\TestHelper\Authorization\AuthServiceTestFactory;
use {{invokerPackage}}\TestHelper\Api\BaseApiTest;
use {{invokerPackage}}\Configuration;
use {{apiPackage}}\AbstractApi;
use {{apiPackage}}\{{classname}};

/**
 * {{classname}}Test Class Doc Comment
 *
 * @category Class
 * @package  {{invokerPackage}}
 * @author   Swagger Codegen team
 * @link     https://github.com/swagger-api/swagger-codegen
 */
{{#operations}}class {{classname}}Test extends BaseApiTest
{
    /**
     * @var string
     */
    protected static $modelNamespace = "\{{modelPackage}}";

    /**
     * Creates the client required to do the API calls
     *
     * @return {{classname}}|AbstractApi
     */
    protected function createClient(): AbstractApi
    {
        if (null === $this->client) {
            $config = new Configuration();
            $config->setHost(getenv("API_URL"));

            $this->client = new {{classname}}(
                [AuthServiceTestFactory::class, 'factory'],
                new Client(['verify' => false]),
                $config
            );
        }

        return $this->client;
    }

    {{#operation}}
    
    /**
     * Test case for {{{operationId}}}
     *
     * {{{summary}}}.
     *
     */
    public function test{{vendorExtensions.x-testOperationId}}()
    {
        $this->setModelClass(
            __FUNCTION__,
            "{{returnType}}"
        );

        $this->createResourceOnEndpoint();
        $this->executeOperation("{{httpMethod}}", "{{operationId}}");
    }
    {{/operation}}
}
{{/operations}}